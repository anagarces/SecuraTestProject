<!-- Si todavía no se ha enviado el quiz -->
<div *ngIf="quiz && !result" class="contenedor-quiz">
  <h2 class="quiz-title">{{ quiz.title }}</h2>
  <p class="quiz-desc">{{ quiz.description }}</p>

  <form (ngSubmit)="submitQuiz()">
    <div class="contenedor-pregunta" *ngFor="let q of quiz.questions">
      <h4 class="texto-quiz">{{ q.text }}</h4>

      <div *ngFor="let opt of q.options">
        <label class="input-quiz">
          <input
            type="radio"
            [name]="'question-' + q.id"
            [value]="opt.id"
            [(ngModel)]="answers[q.id]"
          />
          {{ opt.text }}
        </label>
      </div>

      <hr />
    </div>

    <button type="submit" class="btn btn-primary mt-3">Enviar</button>
  </form>
</div>

<!-- Si ya se envió el quiz, mostramos el resultado -->
<div *ngIf="result" class="resultado-container">
  <h2>Resultado</h2>
  <p>
    Puntuación obtenida: <strong>{{ result.score }}</strong> de
    {{ result.totalQuestions }}
  </p>

  <button class="btn btn-secondary boton-quiz" routerLink="/quizzes">
    Volver a los cuestionarios
  </button>
</div>
