<div
  class="max-w-5xl mx-auto mt-10 p-6 bg-white dark:bg-gray-800 rounded-lg shadow"
>
  <div class="flex justify-between items-center mb-6">
    <h1 class="text-2xl font-bold dark:text-white">Listado de cuestionarios</h1>

    <button
      class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700"
      (click)="createQuiz()"
    >
      + Crear cuestionario
    </button>
  </div>

  <!-- Loader -->
  <div
    *ngIf="loading"
    class="text-center py-6 text-gray-600 dark:text-gray-300"
  >
    Cargando cuestionarios...
  </div>

  <!-- Tabla -->
  <table
    *ngIf="!loading"
    class="min-w-full table-auto border-gray-300 dark:border-gray-700"
  >
    <thead class="bg-gray-100 dark:bg-gray-700">
      <tr>
        <th class="px-4 py-2 text-left dark:text-white">Título</th>
        <th class="px-4 py-2 text-left dark:text-white">Descripción</th>
        <th class="px-4 py-2 text-center dark:text-white">Preguntas</th>
        <th class="px-4 py-2 text-center dark:text-white">Acciones</th>
      </tr>
    </thead>

    <tbody>
      <tr *ngFor="let quiz of quizzes" class="border-b dark:border-gray-600">
        <td class="px-4 py-2 dark:text-gray-200">{{ quiz.title }}</td>
        <td class="px-4 py-2 dark:text-gray-300">{{ quiz.description }}</td>

        <!-- Ahora contamos preguntas -->
        <td class="px-4 py-2 text-center dark:text-gray-200">
          {{ quiz.questions?.length || 0 }}
        </td>

        <td class="px-4 py-2 text-center space-x-3">
          <button
            class="bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700"
            (click)="editQuiz(quiz.id!)"
          >
            Editar
          </button>

          <button
            class="bg-red-600 text-white px-3 py-1 rounded hover:bg-red-700"
            (click)="deleteQuiz(quiz.id!)"
          >
            Eliminar
          </button>
        </td>
      </tr>
    </tbody>
  </table>

  <!-- Sin quizzes -->
  <div
    *ngIf="!loading && quizzes.length === 0"
    class="text-center text-gray-600 dark:text-gray-300 py-6"
  >
    No hay cuestionarios creados.
  </div>
</div>
